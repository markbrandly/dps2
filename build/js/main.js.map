{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/index.js","webpack:///./src/js/app.js","webpack:///./src/js/Player.js","webpack:///./src/js/Search.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","app","Player","Search","angular","controller","$scope","$http","$timeout","searchList","player","monster","monsterList","tabSelected","monsterSelected","setMonster","monObj","moster","selectItem","itemName","search","item","dataObj","resList","forEach","console","log","equip","selectMonster","monsterName","method","url","params","then","res","data","itemSearch","elem","selectFn","clear","JSON","parse","showList","push","$apply","monsterSearch","document","addEventListener","e","code","directive","scope","slotname","templateUrl","bonusName","percent","template","select","placeholder","id","stats","stat","icon","replace","slots","bonusList","nullItem","slot","bonuses","Array","fill","unarmed","category","speed","styles","combatStyle","type","attackStyle","this","equipment","attack","strength","ranged","magic","hitpoints","prayer","defence","base","Math","floor","melee","range","mage","max","indexOf","weapon","unequip","update","length","bonus","fn","searchFn","keybound","localText","searchText","xhr","XMLHttpRequest","onload","status","response","selected","keybind","open","send","index","getElementById","querySelector","preventDefault","click"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","require(\"../scss/_reset.scss\");\r\nrequire(\"../scss/main.scss\");\r\nvar app = require(\"./app.js\")\r\n\r\napp()","var Player = require('./Player.js');\r\nconst Search = require('./Search.js');\r\n\r\nmodule.exports = function(){\r\n\r\n    var app = angular.module(\"dps\", []);\r\n\r\n    app\r\n    .controller('ctrl', ['$scope', '$http', '$timeout', function($scope, $http, $timeout){\r\n      $scope.searchList = []\r\n      $scope.player = new Player();\r\n      $scope.monster = {\"defence\":0,\"magic\":0,\"name\":\"Newtroost\",\"image\":\"./assets/monster_images/Newtroost.png\",\"version\":\"none\",\"slayer\":null,\"hitpoints\":18,\"cb\":19,\"bonuses\":{\"crushDefence\":0,\"magicDefence\":0,\"rangedDefence\":0,\"slashDefence\":0,\"stabDefence\":0}}\r\n      $scope.monsterList = []\r\n      $scope.tabSelected = 0\r\n      $scope.monsterSelected = 0\r\n\r\n      $scope.setMonster = function(monObj){\r\n        $scope.moster = monObj\r\n      }\r\n\r\n      $scope.selectItem = function(itemName, search){\r\n        var item\r\n        search.dataObj.resList.forEach((i) => {\r\n          console.log(i, itemName)\r\n          if(i.name === itemName){\r\n            item = i\r\n          }\r\n        })\r\n        $scope.player.equip(item)\r\n      }\r\n      \r\n      $scope.selectMonster = function(monsterName, search){\r\n        $http({\r\n          method: 'GET',\r\n          url: '/api/getMonstersByName',\r\n          params: {name:monsterName}\r\n        }).then((res)=>{\r\n          console.log(res)\r\n          $scope.monsterList = res.data;\r\n          $scope.monster = res.data[0]\r\n          $scope.monsterSelected = 0\r\n        })\r\n      }\r\n\r\n      $scope.itemSearch = new Search(\r\n        '/api/searchItems', \r\n        {elem: 'item-search', selectFn: $scope.selectItem}, \r\n        (res, search) => {\r\n          search.clear()\r\n          JSON.parse(res).forEach((i) => {\r\n            search.dataObj.showList.push(i.name)\r\n            search.dataObj.resList.push(i)\r\n          })\r\n          $scope.$apply()\r\n        }\r\n      );\r\n\r\n      $scope.monsterSearch = new Search(\r\n        '/api/searchMonsterNames',\r\n        {elem:'monster-search', selectFn: $scope.selectMonster},\r\n        (res, search) => {\r\n          search.clear()\r\n          JSON.parse(res).forEach((i) => {\r\n            search.dataObj.showList.push(i)\r\n            search.dataObj.resList.push(i)\r\n          })\r\n          $scope.$apply()\r\n        }\r\n      );\r\n\r\n\r\n\r\n      document.addEventListener('keydown', (e) => {\r\n        if(e.code === \"ArrowDown\" || e.code === \"ArrowUp\"){\r\n          $scope.$apply()\r\n        }\r\n      })\r\n    }])\r\n\r\n    .directive('loadoutCell', function(){\r\n      return {\r\n        scope: {\r\n          slotname: '@',\r\n          player: '='\r\n        },\r\n        templateUrl: 'html/loadout-cell.html'\r\n      }\r\n    })\r\n    .directive('bonusRow', function(){\r\n      return {\r\n        scope: {\r\n          bonusName: '@',\r\n          value: '@',\r\n          percent: '@'\r\n        },\r\n        template: \"<td>{{bonusName}}:<\\/td><td ng-class=\\\"{'color-3':value > 0, 'color-2': value < 0, 'color-grey': value == 0}\\\"><span ng-hide=\\\"!(value >= 0)\\\">+<\\/span>{{value}}<span ng-class={'hidden':percent==null}>%<\\/span><\\/td>\"\r\n      }\r\n    })\r\n    .directive('searchBox', function(){\r\n      return {\r\n        scope: {\r\n          search: '=',\r\n          select: '=',\r\n          placeholder: '@',\r\n          id: \"@\",\r\n        },\r\n        templateUrl: 'html/search-box.html'\r\n      }\r\n    })\r\n    .directive('loadout', function(){\r\n      return {\r\n        scope: {\r\n          player: '=',\r\n          search: '='\r\n        },\r\n        templateUrl: '/html/directives/loadout.html'\r\n      }\r\n    })\r\n    .directive('statPicker', function(){\r\n      return {\r\n        scope: {\r\n          stats: '=',\r\n          stat: '@',\r\n          icon: '@'\r\n        },\r\n        templateUrl: '/html/directives/statpicker.html',\r\n        replace:true\r\n      }\r\n    })\r\n  }","const slots = [\r\n  \"cape\",\"head\",\"neck\",\"ammo\",\r\n  \"weapon\",\"shield\",\"body\",\"legs\",\r\n  \"hands\",\"feet\",\"ring\",\"2h\"\r\n];\r\nconst bonusList = [\r\n  \"stabAttack\", \"slashAttack\",\r\n  \"crushAttack\", \"magicAttack\", \"rangedAttack\", \"stabDefence\",\r\n  \"slashDefence\", \"crushDefence\",\"magicDefence\", \"rangedDefence\",\r\n  \"strength\", \"rangedStrength\", \"magicStrength\", \"prayer\"\r\n];\r\n\r\nconst nullItem = {\r\n  id: 0,\r\n  name: null,\r\n  slot: null,\r\n  bonuses: Array(14).fill(0)\r\n};\r\n\r\nconst unarmed = {\r\n  id: 0,\r\n  name: \"Unarmed\",\r\n  slot: \"weapon\",\r\n  bonuses: Array(14).fill(0),\r\n  category: {\r\n    name:\"unarmed\",\r\n    speed:4,\r\n    styles:\r\n      [\r\n        {combatStyle:\"Punch\", type:\"Crush\", attackStyle:\"Accurate\"},\r\n        {combatStyle:\"Kick\", type:\"Crush\", attackStyle:\"Aggressive\"},\r\n        {combatStyle:\"Block\", type:\"Crush\", attackStyle:\"Defensive\"}\r\n      ]\r\n  }\r\n}\r\n\r\nclass Player{\r\n  constructor(){\r\n    this.attackStyle = 0\r\n  \tthis.equipment = {};\r\n    this.slots.forEach((slot) => {\r\n      this.equipment[slot] = nullItem;\r\n      this.equipment['weapon'] = unarmed\r\n    }); \r\n\r\n    this.bonuses = Array(14).fill(0);\r\n    this.stats = {\r\n      attack: 99,\r\n      strength: 99,\r\n      ranged: 99,\r\n      magic: 99,\r\n      hitpoints: 99,\r\n      prayer: 99,\r\n      defence: 99,\r\n      get combat(){\r\n        var base = 0.25 * (this.defence + this.hitpoints + Math.floor(this.prayer / 2))\r\n        var melee = 0.325 * (this.attack + this.strength)\r\n        var range = 0.325 * Math.floor(3 * this.ranged / 2)\r\n        var mage = 0.325 * Math.floor(3 * this.magic / 2)\r\n        return Math.floor(base + Math.max(melee, range, mage))\r\n      }\r\n    }\r\n\t}\r\n\r\n  equip(item){\r\n    if(slots.indexOf(item.slot) === -1){\r\n      return false;\r\n    }\r\n\r\n    if(item.slot == \"weapon\" || item.slot == \"2h\"){\r\n      this.attackStyle = 0 //reset attack style selection on weapon switch\r\n    }\r\n\r\n    if(item.slot === \"2h\"){\r\n      this.equipment.weapon = item;\r\n      this.unequip(\"shield\");\r\n    }\r\n    else if(item.slot ===\"shield\" && this.equipment.weapon.slot === \"2h\"){\r\n      this.equipment[item.slot] = item;\r\n      this.equip(unarmed)\r\n    }\r\n    else{\r\n      this.equipment[item.slot] = item;\r\n      this.update();\r\n    }\r\n  };\r\n\r\n  unequip(slot){\r\n    this.equipment[slot] = nullItem;\r\n    this.update(); \r\n  };\r\n\r\n  update(){\r\n    console.log(this)\r\n    var player = this;\r\n    for (var i = 0; i < bonusList.length; i++) {\r\n      var bonus = 0;\r\n      slots.forEach(function(slot){\r\n        bonus += player.equipment[slot].bonuses[i];\r\n      });\r\n      player.bonuses[i] = bonus;\r\n    }\r\n  }\r\n\r\n  get attackType(){\r\n    return this.equipment.weapon.category.styles[this.attackStyle]\r\n  }\r\n\r\n  get slots(){\r\n  \treturn slots\r\n  }\r\n  get bonusList(){\r\n  \treturn bonusList\r\n  }\r\n\r\n  bonus(bonusName){\r\n    return this.bonuses[bonusList.indexOf(bonusName)]\r\n  }\r\n}\r\n\r\nmodule.exports = Player","class Search{\r\n  constructor(url, dataObj, fn){\r\n    this.searchFn = fn;\r\n    this.dataObj = dataObj;\r\n    this.url = url\r\n    this.name=\"test\"\r\n    dataObj.resList = []\r\n    dataObj.showList = []\r\n    console.log(this)\r\n    this.keybound = 0\r\n  }\r\n\r\n  getList(){\r\n    var localText = this.dataObj.searchText\r\n    // if(localText.length < 3){\r\n    //   this.clear()\r\n    //   return\r\n    // }\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.onload = () => {\r\n      console.log(localText, this.dataObj.searchText)\r\n      if (xhr.status >= 200 && xhr.status < 300 && localText === this.dataObj.searchText) {\r\n        console.log(xhr.response)\r\n        this.searchFn(xhr.response, this)\r\n        this.dataObj.selected=0\r\n        this.keybind()\r\n      } \r\n    }\r\n    xhr.open('GET', this.url + \"?like=\" + localText + \"&lim=5\");\r\n    xhr.send();\r\n  }\r\n\r\n  clear(){\r\n    this.dataObj.resList.length = 0\r\n    this.dataObj.showList.length = 0\r\n  }\r\n\r\n  highlight(index){\r\n    console.log('asdas')\r\n    this.dataObj.selected = index\r\n  }\r\n\r\n  select(index){\r\n    var elem = document.getElementById(this.dataObj.elem)\r\n    this.dataObj.selectFn(index,this)\r\n    elem.querySelector(\".auto-complete-input\").value = \"\"\r\n    this.clear()\r\n    // console.log(this.dataObj.elem)\r\n  }\r\n\r\n  keybind(){\r\n    if(this.keybound){\r\n      console.log('keys are bound')\r\n      return\r\n    }\r\n    console.log('binding the keys')\r\n    this.keybound = 1\r\n    var elem = document.getElementById(this.dataObj.elem)\r\n    elem.addEventListener('keydown', (e) => {\r\n      let l = this.dataObj.showList.length\r\n      if(e.code === \"ArrowDown\"){\r\n        e.preventDefault()\r\n        this.dataObj.selected = (this.dataObj.selected + 1) % l\r\n      }\r\n      else if(e.code === \"ArrowUp\"){\r\n        e.preventDefault()\r\n        this.dataObj.selected = (((this.dataObj.selected - 1) % l) + l) % l\r\n      }\r\n      else if(e.code === \"Enter\"){\r\n        console.log(elem)\r\n        console.log(elem.querySelector('[data-index=' + this.selected + ']'))\r\n        elem.querySelector('[data-index=\"' + this.dataObj.selected + '\"]').click()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nmodule.exports = Search"],"sourceRoot":""}