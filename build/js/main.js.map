{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/index.js","webpack:///./src/js/app.js","webpack:///./src/js/Player.js","webpack:///./src/js/Search.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","app","Player","Search","angular","controller","$scope","$http","$timeout","searchList","player","monster","monsterList","tabSelected","selectItem","itemName","search","item","dataObj","resList","forEach","console","log","equip","selectMonster","monsterName","method","url","params","then","res","data","itemSearch","elem","selectFn","clear","JSON","parse","showList","push","$apply","monsterSearch","document","addEventListener","e","code","directive","scope","slotname","templateUrl","bonusName","percent","template","select","placeholder","id","stats","stat","icon","replace","slots","bonusList","nullItem","slot","bonuses","Array","fill","_this","this","_classCallCheck","equipment","attack","strength","ranged","magic","hitpoints","prayer","defence","combat","base","Math","floor","melee","range","mage","max","indexOf","weapon","unequip","update","length","bonus","fn","searchFn","keybound","localText","searchText","xhr","XMLHttpRequest","onload","status","response","selected","keybind","open","send","index","getElementById","querySelector","_this2","preventDefault","click"],"mappings":"aACA,IAAAA,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,qBClFAC,EAAQ,GACRA,EAAQ,GACEA,EAAQ,EAElBC,oBCJA,IAAIC,EAASF,EAAQ,GACfG,EAASH,EAAQ,GAEvBjC,EAAOD,QAAU,WAEHsC,QAAQrC,OAAO,MAAO,IAG/BsC,WAAW,OAAQ,CAAC,SAAU,QAAS,WAAY,SAASC,EAAQC,EAAOC,GAC1EF,EAAOG,WAAa,GACpBH,EAAOI,OAAS,IAAIR,EACpBI,EAAOK,QAAU,GACjBL,EAAOM,YAAc,GACrBN,EAAOO,YAAc,EACrBP,EAAOQ,WAAa,SAASC,EAAUC,GACrC,IAAIC,EACJD,EAAOE,QAAQC,QAAQC,QAAQ,SAACpD,GAC9BqD,QAAQC,IAAItD,EAAG+C,GACZ/C,EAAEO,OAASwC,IACZE,EAAOjD,KAGXsC,EAAOI,OAAOa,MAAMN,IAGtBX,EAAOkB,cAAgB,SAASC,EAAaT,GAC3CT,EAAM,CACJmB,OAAQ,MACRC,IAAK,yBACLC,OAAQ,CAACrD,KAAKkD,KACbI,KAAK,SAACC,GACPT,QAAQC,IAAIQ,GACZxB,EAAOM,YAAckB,EAAIC,KACzBzB,EAAOK,QAAUmB,EAAIC,KAAK,MAI9BzB,EAAO0B,WAAa,IAAI7B,EACtB,mBACA,CAAC8B,KAAM,cAAeC,SAAU5B,EAAOQ,YACvC,SAACgB,EAAKd,GACJA,EAAOmB,QACPC,KAAKC,MAAMP,GAAKV,QAAQ,SAACpD,GACvBgD,EAAOE,QAAQoB,SAASC,KAAKvE,EAAEO,MAC/ByC,EAAOE,QAAQC,QAAQoB,KAAKvE,KAE9BsC,EAAOkC,WAIXlC,EAAOmC,cAAgB,IAAItC,EACzB,0BACA,CAAC8B,KAAK,iBAAkBC,SAAU5B,EAAOkB,eACzC,SAACM,EAAKd,GACJA,EAAOmB,QACPC,KAAKC,MAAMP,GAAKV,QAAQ,SAACpD,GACvBgD,EAAOE,QAAQoB,SAASC,KAAKvE,GAC7BgD,EAAOE,QAAQC,QAAQoB,KAAKvE,KAE9BsC,EAAOkC,WAMXE,SAASC,iBAAiB,UAAW,SAACC,GACtB,cAAXA,EAAEC,MAAmC,YAAXD,EAAEC,MAC7BvC,EAAOkC,cAKZM,UAAU,cAAe,WACxB,MAAO,CACLC,MAAO,CACLC,SAAU,IACVtC,OAAQ,KAEVuC,YAAa,4BAGhBH,UAAU,WAAY,WACrB,MAAO,CACLC,MAAO,CACLG,UAAW,IACXjE,MAAO,IACPkE,QAAS,KAEXC,SAAU,0NAGbN,UAAU,YAAa,WACtB,MAAO,CACLC,MAAO,CACL/B,OAAQ,IACRqC,OAAQ,IACRC,YAAa,IACbC,GAAI,KAENN,YAAa,0BAGhBH,UAAU,UAAW,WACpB,MAAO,CACLC,MAAO,CACLrC,OAAQ,IACRM,OAAQ,KAEViC,YAAa,mCAGhBH,UAAU,aAAc,WACvB,MAAO,CACLC,MAAO,CACLS,MAAO,IACPC,KAAM,IACNC,KAAM,KAERT,YAAa,mCACbU,SAAQ,2LCvHhB,IAAMC,EAAQ,CACZ,OAAO,OAAO,OAAO,OACrB,SAAS,SAAS,OAAO,OACzB,QAAQ,OAAO,OAAO,MAElBC,EAAY,CAChB,aAAc,cACd,cAAe,cAAe,eAAgB,cAC9C,eAAgB,eAAe,eAAgB,gBAC/C,WAAY,iBAAkB,gBAAiB,UAG3CC,EAAW,CACfP,GAAI,EACJhF,KAAM,KACNwF,KAAM,KACNC,QAASC,MAAM,IAAIC,KAAK,IAGpBhE,aACJ,SAAAA,IAAa,IAAAiE,EAAAC,kGAAAC,CAAAD,KAAAlE,GACZkE,KAAKE,UAAY,GAChBF,KAAKR,MAAMxC,QAAQ,SAAC2C,GAClBI,EAAKG,UAAUP,GAAQD,IAGzBM,KAAKJ,QAAUC,MAAM,IAAIC,KAAK,GAC9BE,KAAKZ,MAAQ,CACXe,OAAQ,GACRC,SAAU,GACVC,OAAQ,GACRC,MAAO,GACPC,UAAW,GACXC,OAAQ,GACRC,QAAS,GACTC,aACE,IAAIC,EAAO,KAAQX,KAAKS,QAAUT,KAAKO,UAAYK,KAAKC,MAAMb,KAAKQ,OAAS,IACxEM,EAAQ,MAASd,KAAKG,OAASH,KAAKI,UACpCW,EAAQ,KAAQH,KAAKC,MAAM,EAAIb,KAAKK,OAAS,GAC7CW,EAAO,KAAQJ,KAAKC,MAAM,EAAIb,KAAKM,MAAQ,GAC/C,OAAOM,KAAKC,MAAMF,EAAOC,KAAKK,IAAIH,EAAOC,EAAOC,2DAKhDnE,GACJ,IAAiC,IAA9B2C,EAAM0B,QAAQrE,EAAK8C,MACpB,OAAO,EAEQ,OAAd9C,EAAK8C,MACNK,KAAKE,UAAUiB,OAAStE,EACxBmD,KAAKoB,QAAQ,WAEM,WAAbvE,EAAK8C,MAAmD,OAA/BK,KAAKE,UAAUiB,OAAOxB,MACrDK,KAAKE,UAAUrD,EAAK8C,MAAQ9C,EAC5BmD,KAAKoB,QAAQ,YAGbpB,KAAKE,UAAUrD,EAAK8C,MAAQ9C,EAC5BmD,KAAKqB,0CAID1B,GACNK,KAAKE,UAAUP,GAAQD,EACvBM,KAAKqB,0CAKL,IADA,IAAI/E,EAAS0D,KACJpG,EAAI,EAAGA,EAAI6F,EAAU6B,OAAQ1H,IAAK,CACzC,IAAI2H,EAAQ,EACZ/B,EAAMxC,QAAQ,SAAS2C,GACrB4B,GAASjF,EAAO4D,UAAUP,GAAMC,QAAQhG,KAE1C0C,EAAOsD,QAAQhG,GAAK2H,iCAKvB,OAAO/B,oCAGP,OAAOC,uCAIV9F,EAAOD,QAAUoC,2LCvFXC,aACJ,SAAAA,EAAYwB,EAAKT,EAAS0E,gGAAGvB,CAAAD,KAAAjE,GAC3BiE,KAAKyB,SAAWD,EAChBxB,KAAKlD,QAAUA,EACfkD,KAAKzC,IAAMA,EACXyC,KAAK7F,KAAK,OACV2C,EAAQC,QAAU,GAClBD,EAAQoB,SAAW,GACnBjB,QAAQC,IAAI8C,MACZA,KAAK0B,SAAW,2DAGT,IAAA3B,EAAAC,KACH2B,EAAY3B,KAAKlD,QAAQ8E,WAKzBC,EAAM,IAAIC,eACdD,EAAIE,OAAS,WACX9E,QAAQC,IAAIyE,EAAW5B,EAAKjD,QAAQ8E,YAChCC,EAAIG,QAAU,KAAOH,EAAIG,OAAS,KAAOL,IAAc5B,EAAKjD,QAAQ8E,aACtE3E,QAAQC,IAAI2E,EAAII,UAChBlC,EAAK0B,SAASI,EAAII,SAAUlC,GAC5BA,EAAKjD,QAAQoF,SAAS,EACtBnC,EAAKoC,YAGTN,EAAIO,KAAK,MAAOpC,KAAKzC,IAAM,SAAWoE,EAAY,UAClDE,EAAIQ,uCAIJrC,KAAKlD,QAAQC,QAAQuE,OAAS,EAC9BtB,KAAKlD,QAAQoB,SAASoD,OAAS,oCAGvBgB,GACRrF,QAAQC,IAAI,SACZ8C,KAAKlD,QAAQoF,SAAWI,iCAGnBA,GACL,IAAIzE,EAAOS,SAASiE,eAAevC,KAAKlD,QAAQe,MAChDmC,KAAKlD,QAAQgB,SAASwE,EAAMtC,MAC5BnC,EAAK2E,cAAc,wBAAwB3H,MAAQ,GACnDmF,KAAKjC,0CAIE,IAAA0E,EAAAzC,KACP,GAAGA,KAAK0B,SACNzE,QAAQC,IAAI,sBADd,CAIAD,QAAQC,IAAI,oBACZ8C,KAAK0B,SAAW,EAChB,IAAI7D,EAAOS,SAASiE,eAAevC,KAAKlD,QAAQe,MAChDA,EAAKU,iBAAiB,UAAW,SAACC,GAChC,IAAI3E,EAAI4I,EAAK3F,QAAQoB,SAASoD,OAChB,cAAX9C,EAAEC,MACHD,EAAEkE,iBACFD,EAAK3F,QAAQoF,UAAYO,EAAK3F,QAAQoF,SAAW,GAAKrI,GAErC,YAAX2E,EAAEC,MACRD,EAAEkE,iBACFD,EAAK3F,QAAQoF,WAAcO,EAAK3F,QAAQoF,SAAW,GAAKrI,EAAKA,GAAKA,GAEjD,UAAX2E,EAAEC,OACRxB,QAAQC,IAAIW,GACZZ,QAAQC,IAAIW,EAAK2E,cAAc,eAAiBC,EAAKP,SAAW,MAChErE,EAAK2E,cAAc,gBAAkBC,EAAK3F,QAAQoF,SAAW,MAAMS,iDAM3EhJ,EAAOD,QAAUqC","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","require(\"../scss/_reset.scss\");\r\nrequire(\"../scss/main.scss\");\r\nvar app = require(\"./app.js\")\r\n\r\napp()","var Player = require('./Player.js');\r\nconst Search = require('./Search.js');\r\n\r\nmodule.exports = function(){\r\n\r\n    var app = angular.module(\"dps\", []);\r\n\r\n    app\r\n    .controller('ctrl', ['$scope', '$http', '$timeout', function($scope, $http, $timeout){\r\n      $scope.searchList = []\r\n      $scope.player = new Player();\r\n      $scope.monster = {}\r\n      $scope.monsterList = []\r\n      $scope.tabSelected = 0\r\n      $scope.selectItem = function(itemName, search){\r\n        var item\r\n        search.dataObj.resList.forEach((i) => {\r\n          console.log(i, itemName)\r\n          if(i.name === itemName){\r\n            item = i\r\n          }\r\n        })\r\n        $scope.player.equip(item)\r\n      }\r\n      \r\n      $scope.selectMonster = function(monsterName, search){\r\n        $http({\r\n          method: 'GET',\r\n          url: '/api/getMonstersByName',\r\n          params: {name:monsterName}\r\n        }).then((res)=>{\r\n          console.log(res)\r\n          $scope.monsterList = res.data;\r\n          $scope.monster = res.data[0]\r\n        })\r\n      }\r\n\r\n      $scope.itemSearch = new Search(\r\n        '/api/searchItems', \r\n        {elem: 'item-search', selectFn: $scope.selectItem}, \r\n        (res, search) => {\r\n          search.clear()\r\n          JSON.parse(res).forEach((i) => {\r\n            search.dataObj.showList.push(i.name)\r\n            search.dataObj.resList.push(i)\r\n          })\r\n          $scope.$apply()\r\n        }\r\n      );\r\n\r\n      $scope.monsterSearch = new Search(\r\n        '/api/searchMonsterNames',\r\n        {elem:'monster-search', selectFn: $scope.selectMonster},\r\n        (res, search) => {\r\n          search.clear()\r\n          JSON.parse(res).forEach((i) => {\r\n            search.dataObj.showList.push(i)\r\n            search.dataObj.resList.push(i)\r\n          })\r\n          $scope.$apply()\r\n        }\r\n      );\r\n\r\n\r\n\r\n      document.addEventListener('keydown', (e) => {\r\n        if(e.code === \"ArrowDown\" || e.code === \"ArrowUp\"){\r\n          $scope.$apply()\r\n        }\r\n      })\r\n    }])\r\n\r\n    .directive('loadoutCell', function(){\r\n      return {\r\n        scope: {\r\n          slotname: '@',\r\n          player: '='\r\n        },\r\n        templateUrl: 'html/loadout-cell.html'\r\n      }\r\n    })\r\n    .directive('bonusRow', function(){\r\n      return {\r\n        scope: {\r\n          bonusName: '@',\r\n          value: '@',\r\n          percent: '@'\r\n        },\r\n        template: \"<td>{{bonusName}}:<\\/td><td ng-class=\\\"{'color-3':value > 0, 'color-2': value < 0, 'color-grey': value == 0}\\\"><span ng-hide=\\\"!(value >= 0)\\\">+<\\/span>{{value}}<span ng-class={'hidden':percent==null}>%<\\/span><\\/td>\"\r\n      }\r\n    })\r\n    .directive('searchBox', function(){\r\n      return {\r\n        scope: {\r\n          search: '=',\r\n          select: '=',\r\n          placeholder: '@',\r\n          id: \"@\",\r\n        },\r\n        templateUrl: 'html/search-box.html'\r\n      }\r\n    })\r\n    .directive('loadout', function(){\r\n      return {\r\n        scope: {\r\n          player: '=',\r\n          search: '='\r\n        },\r\n        templateUrl: '/html/directives/loadout.html'\r\n      }\r\n    })\r\n    .directive('statPicker', function(){\r\n      return {\r\n        scope: {\r\n          stats: '=',\r\n          stat: '@',\r\n          icon: '@'\r\n        },\r\n        templateUrl: '/html/directives/statpicker.html',\r\n        replace:true\r\n      }\r\n    })\r\n  }","const slots = [\r\n  \"cape\",\"head\",\"neck\",\"ammo\",\r\n  \"weapon\",\"shield\",\"body\",\"legs\",\r\n  \"hands\",\"feet\",\"ring\",\"2h\"\r\n];\r\nconst bonusList = [\r\n  \"stabAttack\", \"slashAttack\",\r\n  \"crushAttack\", \"magicAttack\", \"rangedAttack\", \"stabDefence\",\r\n  \"slashDefence\", \"crushDefence\",\"magicDefence\", \"rangedDefence\",\r\n  \"strength\", \"rangedStrength\", \"magicStrength\", \"prayer\"\r\n];\r\n\r\nconst nullItem = {\r\n  id: 0,\r\n  name: null,\r\n  slot: null,\r\n  bonuses: Array(14).fill(0)\r\n};\r\n\r\nclass Player{\r\n  constructor(){\r\n  \tthis.equipment = {};\r\n    this.slots.forEach((slot) => {\r\n      this.equipment[slot] = nullItem;\r\n    });\r\n\r\n    this.bonuses = Array(14).fill(0);\r\n    this.stats = {\r\n      attack: 99,\r\n      strength: 99,\r\n      ranged: 99,\r\n      magic: 99,\r\n      hitpoints: 99,\r\n      prayer: 99,\r\n      defence: 99,\r\n      get combat(){\r\n        var base = 0.25 * (this.defence + this.hitpoints + Math.floor(this.prayer / 2))\r\n        var melee = 0.325 * (this.attack + this.strength)\r\n        var range = 0.325 * Math.floor(3 * this.ranged / 2)\r\n        var mage = 0.325 * Math.floor(3 * this.magic / 2)\r\n        return Math.floor(base + Math.max(melee, range, mage))\r\n      }\r\n    }\r\n\t}\r\n\r\n  equip(item){\r\n    if(slots.indexOf(item.slot) === -1){\r\n      return false;\r\n    }\r\n    if(item.slot === \"2h\"){\r\n      this.equipment.weapon = item;\r\n      this.unequip(\"shield\");\r\n    }\r\n    else if(item.slot ===\"shield\" && this.equipment.weapon.slot === \"2h\"){\r\n      this.equipment[item.slot] = item;\r\n      this.unequip(\"weapon\");\r\n    }\r\n    else{\r\n      this.equipment[item.slot] = item;\r\n      this.update();\r\n    }\r\n  };\r\n\r\n  unequip(slot){\r\n    this.equipment[slot] = nullItem;\r\n    this.update(); \r\n  };\r\n\r\n  update(){\r\n    var player = this;\r\n    for (var i = 0; i < bonusList.length; i++) {\r\n      var bonus = 0;\r\n      slots.forEach(function(slot){\r\n        bonus += player.equipment[slot].bonuses[i];\r\n      });\r\n      player.bonuses[i] = bonus;\r\n    }\r\n  }\r\n\r\n  get slots(){\r\n  \treturn slots\r\n  }\r\n  get bonusList(){\r\n  \treturn bonusList\r\n  }\r\n}\r\n\r\nmodule.exports = Player","class Search{\r\n  constructor(url, dataObj, fn){\r\n    this.searchFn = fn;\r\n    this.dataObj = dataObj;\r\n    this.url = url\r\n    this.name=\"test\"\r\n    dataObj.resList = []\r\n    dataObj.showList = []\r\n    console.log(this)\r\n    this.keybound = 0\r\n  }\r\n\r\n  getList(){\r\n    var localText = this.dataObj.searchText\r\n    // if(localText.length < 3){\r\n    //   this.clear()\r\n    //   return\r\n    // }\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.onload = () => {\r\n      console.log(localText, this.dataObj.searchText)\r\n      if (xhr.status >= 200 && xhr.status < 300 && localText === this.dataObj.searchText) {\r\n        console.log(xhr.response)\r\n        this.searchFn(xhr.response, this)\r\n        this.dataObj.selected=0\r\n        this.keybind()\r\n      } \r\n    }\r\n    xhr.open('GET', this.url + \"?like=\" + localText + \"&lim=5\");\r\n    xhr.send();\r\n  }\r\n\r\n  clear(){\r\n    this.dataObj.resList.length = 0\r\n    this.dataObj.showList.length = 0\r\n  }\r\n\r\n  highlight(index){\r\n    console.log('asdas')\r\n    this.dataObj.selected = index\r\n  }\r\n\r\n  select(index){\r\n    var elem = document.getElementById(this.dataObj.elem)\r\n    this.dataObj.selectFn(index,this)\r\n    elem.querySelector(\".auto-complete-input\").value = \"\"\r\n    this.clear()\r\n    // console.log(this.dataObj.elem)\r\n  }\r\n\r\n  keybind(){\r\n    if(this.keybound){\r\n      console.log('keys are bound')\r\n      return\r\n    }\r\n    console.log('binding the keys')\r\n    this.keybound = 1\r\n    var elem = document.getElementById(this.dataObj.elem)\r\n    elem.addEventListener('keydown', (e) => {\r\n      let l = this.dataObj.showList.length\r\n      if(e.code === \"ArrowDown\"){\r\n        e.preventDefault()\r\n        this.dataObj.selected = (this.dataObj.selected + 1) % l\r\n      }\r\n      else if(e.code === \"ArrowUp\"){\r\n        e.preventDefault()\r\n        this.dataObj.selected = (((this.dataObj.selected - 1) % l) + l) % l\r\n      }\r\n      else if(e.code === \"Enter\"){\r\n        console.log(elem)\r\n        console.log(elem.querySelector('[data-index=' + this.selected + ']'))\r\n        elem.querySelector('[data-index=\"' + this.dataObj.selected + '\"]').click()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nmodule.exports = Search"],"sourceRoot":""}